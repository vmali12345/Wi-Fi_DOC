<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NRG1_Firmware: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NRG1_Firmware<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Wi-Fi Connectivity using Zedboard</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___socket_a_p_i.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Functions<div class="ingroups"><a class="el" href="group___s_o_c_k_e_t_a_p_i.html">SOCKET</a> &raquo; <a class="el" href="group___s_o_c_k_e_t_d_e_f.html">Defines</a> &raquo; <a class="el" href="group___s_s_l_cipher_suite_i_d.html">TLS Cipher Suite IDs</a> &raquo; <a class="el" href="group___s_o_c_k_e_t_b_y_t_e_o_r_d_e_r.html">Byte Order</a> &raquo; <a class="el" href="group___socket_error_code.html">Error Codes</a> &raquo; <a class="el" href="group___socket_enums.html">Enumeration/Typedefs</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Functions:</div>
<div class="dyncontent">
<div class="center"><img src="group___socket_a_p_i.png" border="0" usemap="#agroup______socket__a__p__i" alt=""/></div>
<map name="agroup______socket__a__p__i" id="agroup______socket__a__p__i">
<area shape="rect" title=" " alt="" coords="205,5,283,32"/>
<area shape="rect" href="group___socket_enums.html" title=" " alt="" coords="5,5,157,32"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5878b0f388e1d04b6f986f61a607ae4a" id="r_ga5878b0f388e1d04b6f986f61a607ae4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5878b0f388e1d04b6f986f61a607ae4a">socketInit</a> (void)</td></tr>
<tr class="separator:ga5878b0f388e1d04b6f986f61a607ae4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga601505c91c3f21a9c0b4a51988357b4f" id="r_ga601505c91c3f21a9c0b4a51988357b4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga601505c91c3f21a9c0b4a51988357b4f">socketDeinit</a> (void)</td></tr>
<tr class="separator:ga601505c91c3f21a9c0b4a51988357b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb6be6be9f2cbaf61d3b27c8300b3677" id="r_gaeb6be6be9f2cbaf61d3b27c8300b3677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaeb6be6be9f2cbaf61d3b27c8300b3677">registerSocketCallback</a> (<a class="el" href="group___socket_enums.html#ga497a9e3655ab84f135f6debaac686942">tpfAppSocketCb</a> socket_cb, <a class="el" href="group___socket_enums.html#ga1f0570c302c1dff2b559b1177f7aec2a">tpfAppResolveCb</a> resolve_cb)</td></tr>
<tr class="separator:gaeb6be6be9f2cbaf61d3b27c8300b3677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0686a847ab8065512bb230fc8845c2f1" id="r_ga0686a847ab8065512bb230fc8845c2f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a> (<a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> u16Domain, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8Type, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8Flags)</td></tr>
<tr class="separator:ga0686a847ab8065512bb230fc8845c2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa63dbc9b10866f101ae33ea3469645fd" id="r_gaa63dbc9b10866f101ae33ea3469645fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa63dbc9b10866f101ae33ea3469645fd">bind</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, struct <a class="el" href="structsockaddr.html">sockaddr</a> *pstrAddr, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8AddrLen)</td></tr>
<tr class="separator:gaa63dbc9b10866f101ae33ea3469645fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64a01a865709a621b249aaac455f9e8b" id="r_ga64a01a865709a621b249aaac455f9e8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga64a01a865709a621b249aaac455f9e8b">listen</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> backlog)</td></tr>
<tr class="separator:ga64a01a865709a621b249aaac455f9e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7c2f9f381cea0d52578825d7e563e8d" id="r_gac7c2f9f381cea0d52578825d7e563e8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, struct <a class="el" href="structsockaddr.html">sockaddr</a> *addr, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> *addrlen)</td></tr>
<tr class="separator:gac7c2f9f381cea0d52578825d7e563e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c6fead3153f45eb4c862590d2a64122" id="r_ga0c6fead3153f45eb4c862590d2a64122"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0c6fead3153f45eb4c862590d2a64122">connect</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, struct <a class="el" href="structsockaddr.html">sockaddr</a> *pstrAddr, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8AddrLen)</td></tr>
<tr class="separator:ga0c6fead3153f45eb4c862590d2a64122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb96ba8adac96c7f6cc0d6c257418e17" id="r_gafb96ba8adac96c7f6cc0d6c257418e17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga74df79fde3c518e55b29ce6360a9c76e">sint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, void *pvRecvBuf, <a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> u16BufLen, <a class="el" href="group___data_t.html#ga4b435a49c74bb91f284f075e63416cb6">uint32</a> u32Timeoutmsec)</td></tr>
<tr class="separator:gafb96ba8adac96c7f6cc0d6c257418e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f9ae5629c787b74f46c43805987d1a1" id="r_ga1f9ae5629c787b74f46c43805987d1a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga74df79fde3c518e55b29ce6360a9c76e">sint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f9ae5629c787b74f46c43805987d1a1">recvfrom</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, void *pvRecvBuf, <a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> u16BufLen, <a class="el" href="group___data_t.html#ga4b435a49c74bb91f284f075e63416cb6">uint32</a> u32Timeoutmsec)</td></tr>
<tr class="separator:ga1f9ae5629c787b74f46c43805987d1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga926ec962609b596d9951199f52d02391" id="r_ga926ec962609b596d9951199f52d02391"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga74df79fde3c518e55b29ce6360a9c76e">sint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga926ec962609b596d9951199f52d02391">send</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, void *pvSendBuffer, <a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> u16SendLength, <a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> u16Flags)</td></tr>
<tr class="separator:ga926ec962609b596d9951199f52d02391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a47ee942f7f547ec7f7cb921910444a" id="r_ga6a47ee942f7f547ec7f7cb921910444a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga74df79fde3c518e55b29ce6360a9c76e">sint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6a47ee942f7f547ec7f7cb921910444a">sendto</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, void *pvSendBuffer, <a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> u16SendLength, <a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> flags, struct <a class="el" href="structsockaddr.html">sockaddr</a> *pstrDestAddr, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8AddrLen)</td></tr>
<tr class="separator:ga6a47ee942f7f547ec7f7cb921910444a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0bd24b8455319e7c40b61a0835b25bb1" id="r_ga0bd24b8455319e7c40b61a0835b25bb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock)</td></tr>
<tr class="separator:ga0bd24b8455319e7c40b61a0835b25bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd9d1f56a7e508773730524f337bc8b8" id="r_gafd9d1f56a7e508773730524f337bc8b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafd9d1f56a7e508773730524f337bc8b8">nmi_inet_addr</a> (char *pcIpAddr)</td></tr>
<tr class="separator:gafd9d1f56a7e508773730524f337bc8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a396dd2a0d39e8421a5271ee1ea263e" id="r_ga9a396dd2a0d39e8421a5271ee1ea263e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9a396dd2a0d39e8421a5271ee1ea263e">gethostbyname</a> (<a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> *pcHostName)</td></tr>
<tr class="separator:ga9a396dd2a0d39e8421a5271ee1ea263e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3843a64f3a423fb78e2fbc7ab5242c1c" id="r_ga3843a64f3a423fb78e2fbc7ab5242c1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3843a64f3a423fb78e2fbc7ab5242c1c">setsockopt</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> <a class="el" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a>, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8Level, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> option_name, const void *option_value, <a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> u16OptionLen)</td></tr>
<tr class="separator:ga3843a64f3a423fb78e2fbc7ab5242c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96fb86e2f672c9cdcafb3585186fe549" id="r_ga96fb86e2f672c9cdcafb3585186fe549"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga96fb86e2f672c9cdcafb3585186fe549">getsockopt</a> (<a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8Level, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8OptName, const void *pvOptValue, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> *pu8OptLen)</td></tr>
<tr class="separator:ga96fb86e2f672c9cdcafb3585186fe549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bd5251887bd43fc7cf8c4dc7edf32af" id="r_ga7bd5251887bd43fc7cf8c4dc7edf32af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7bd5251887bd43fc7cf8c4dc7edf32af">m2m_ping_req</a> (<a class="el" href="group___data_t.html#ga4b435a49c74bb91f284f075e63416cb6">uint32</a> u32DstIP, <a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8TTL, <a class="el" href="group___socket_enums.html#ga33afa715496c47c2f7ffe69bb5596183">tpfPingCb</a> fpPingCb)</td></tr>
<tr class="separator:ga7bd5251887bd43fc7cf8c4dc7edf32af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac7c2f9f381cea0d52578825d7e563e8d" name="gac7c2f9f381cea0d52578825d7e563e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7c2f9f381cea0d52578825d7e563e8d">&#9670;&#160;</a></span>accept()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> accept </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsockaddr.html">sockaddr</a> *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> *</td>          <td class="paramname"><span class="paramname"><em>addrlen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function has no current implementation. An empty deceleration is used to prevent errors when legacy application code is used. As it has no effect, it can be safely removed from any application using it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sock</td><td>Socket ID, must hold a non negative value. A negative value will return a socket error <a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>. Indicating that an invalid argument is passed in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Not used in the current implementation.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addrlen</td><td>Not used in the current implementation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
 The function returns ZERO for successful operations and a negative value otherwise. The possible error values are:<ul>
<li><a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> <br  />
 Indicating that the operation was successful.</li>
<li><a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a> Indicating passing invalid arguments such as negative socket ID. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaa63dbc9b10866f101ae33ea3469645fd" name="gaa63dbc9b10866f101ae33ea3469645fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa63dbc9b10866f101ae33ea3469645fd">&#9670;&#160;</a></span>bind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> bind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsockaddr.html">sockaddr</a> *</td>          <td class="paramname"><span class="paramname"><em>pstrAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8AddrLen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronous bind function associates the provided address and local port to the socket. The function can be used with both TCP and UDP sockets. It is mandatory to call the <a class="el" href="#gaa63dbc9b10866f101ae33ea3469645fd">bind</a> function before starting any UDP or TCP server operation. <br  />
 Upon socket bind completion, the application will receive a <a class="el" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6af08409fad783f5a4cae734f2bff519c0">SOCKET_MSG_BIND</a> message in the socket callback. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sock</td><td>Socket ID, must hold a non negative value. A negative value will return a socket error <a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>. Indicating that an invalid argument is passed in.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pstrAddr</td><td>Pointer to socket address structure "sockaddr_in" <a class="el" href="structsockaddr__in.html">sockaddr_in</a></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8AddrLen</td><td>Size of the given socket address structure in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The socket function must be called to allocate a socket before passing the socket ID to the bind function.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a> </dd>
<dd>
<a class="el" href="#ga0c6fead3153f45eb4c862590d2a64122">connect</a> </dd>
<dd>
<a class="el" href="#ga64a01a865709a621b249aaac455f9e8b">listen</a> </dd>
<dd>
<a class="el" href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a> </dd>
<dd>
<a class="el" href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a> </dd>
<dd>
<a class="el" href="#ga1f9ae5629c787b74f46c43805987d1a1">recvfrom</a> </dd>
<dd>
<a class="el" href="#ga926ec962609b596d9951199f52d02391">send</a> </dd>
<dd>
<a class="el" href="#ga6a47ee942f7f547ec7f7cb921910444a">sendto</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
 The function returns ZERO for successful operations and a negative value otherwise. The possible error values are:<ul>
<li><a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> <br  />
 Indicating that the operation was successful.</li>
<li><a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a> Indicating passing invalid arguments such as negative socket ID or NULL socket address structure.</li>
<li><a class="el" href="group___socket_error_code.html#gaadbd3cd57b4ff7c25b6a9abc75cb37be">SOCK_ERR_INVALID</a> Indicate socket bind failure. </li>
</ul>
</dd></dl>
<h1><a class="anchor" id="SocketExample4"></a>
Example</h1>
<p>This example demonstrates the call of the bind socket operation after a successful socket operation. </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in.html">sockaddr_in</a>  addr;</div>
<div class="line"><a class="code hl_typedef" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> udpServerSocket =-1;</div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a> = -1;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(udpServerSocket == -1)</div>
<div class="line">{</div>
<div class="line">    udpServerSocket = <a class="code hl_function" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a>(<a class="code hl_define" href="group___s_o_c_k_e_t_d_e_f.html#ga9930604d0e32588eae76f43ca38e7826">AF_INET</a>,<a class="code hl_define" href="group___s_o_c_k_e_t_d_e_f.html#ga4db8b9a846c67404db0b6f014f9a9fdf">SOCK_DGRAM</a>,0);</div>
<div class="line">    <span class="keywordflow">if</span>(udpServerSocket &gt;= 0)</div>
<div class="line">    {</div>
<div class="line">        addr.sin_family     = <a class="code hl_define" href="group___s_o_c_k_e_t_d_e_f.html#ga9930604d0e32588eae76f43ca38e7826">AF_INET</a>;</div>
<div class="line">        addr.sin_port           = <a class="code hl_define" href="group___s_o_c_k_e_t_b_y_t_e_o_r_d_e_r.html#ga9778d254871cabab2da84409f88aa1f4">_htons</a>(UDP_SERVER_PORT);</div>
<div class="line">        addr.sin_addr.s_addr    = 0;</div>
<div class="line">        <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a> = <a class="code hl_function" href="#gaa63dbc9b10866f101ae33ea3469645fd">bind</a>(udpServerSocket,(<span class="keyword">struct</span> <a class="code hl_struct" href="structsockaddr.html">sockaddr</a>*)&amp;addr,<span class="keyword">sizeof</span>(addr));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a> == 0)</div>
<div class="line">            printf(<span class="stringliteral">&quot;Bind success!\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Bind Failed. Error code = %d\n&quot;</span>,<a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a>);</div>
<div class="line">            <a class="code hl_function" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a>(udpServerSocket);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;UDP Server Socket Creation Failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="a_wi___fi___initialization_8h_html_ab49e77787f732bd834480d867179a73f"><div class="ttname"><a href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a></div><div class="ttdeci">u8 ret</div><div class="ttdef"><b>Definition</b> Wi_Fi_Initialization.h:55</div></div>
<div class="ttc" id="agroup___s_o_c_k_e_t_b_y_t_e_o_r_d_e_r_html_ga9778d254871cabab2da84409f88aa1f4"><div class="ttname"><a href="group___s_o_c_k_e_t_b_y_t_e_o_r_d_e_r.html#ga9778d254871cabab2da84409f88aa1f4">_htons</a></div><div class="ttdeci">#define _htons(A)</div><div class="ttdef"><b>Definition</b> socket.h:274</div></div>
<div class="ttc" id="agroup___s_o_c_k_e_t_d_e_f_html_ga4db8b9a846c67404db0b6f014f9a9fdf"><div class="ttname"><a href="group___s_o_c_k_e_t_d_e_f.html#ga4db8b9a846c67404db0b6f014f9a9fdf">SOCK_DGRAM</a></div><div class="ttdeci">#define SOCK_DGRAM</div><div class="ttdef"><b>Definition</b> socket.h:85</div></div>
<div class="ttc" id="agroup___s_o_c_k_e_t_d_e_f_html_ga9930604d0e32588eae76f43ca38e7826"><div class="ttname"><a href="group___s_o_c_k_e_t_d_e_f.html#ga9930604d0e32588eae76f43ca38e7826">AF_INET</a></div><div class="ttdeci">#define AF_INET</div><div class="ttdef"><b>Definition</b> socket.h:72</div></div>
<div class="ttc" id="agroup___socket_a_p_i_html_ga0686a847ab8065512bb230fc8845c2f1"><div class="ttname"><a href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a></div><div class="ttdeci">SOCKET socket(uint16 u16Domain, uint8 u8Type, uint8 u8Flags)</div><div class="ttdef"><b>Definition</b> socket.c:480</div></div>
<div class="ttc" id="agroup___socket_a_p_i_html_ga0bd24b8455319e7c40b61a0835b25bb1"><div class="ttname"><a href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a></div><div class="ttdeci">sint8 close(SOCKET sock)</div><div class="ttdef"><b>Definition</b> socket.c:888</div></div>
<div class="ttc" id="agroup___socket_a_p_i_html_gaa63dbc9b10866f101ae33ea3469645fd"><div class="ttname"><a href="#gaa63dbc9b10866f101ae33ea3469645fd">bind</a></div><div class="ttdeci">sint8 bind(SOCKET sock, struct sockaddr *pstrAddr, uint8 u8AddrLen)</div><div class="ttdef"><b>Definition</b> socket.c:566</div></div>
<div class="ttc" id="agroup___socket_enums_html_ga829296c80a8223a79269442d5b8abd72"><div class="ttname"><a href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></div><div class="ttdeci">sint8 SOCKET</div><div class="ttdoc">Definition for socket handler data type. Socket ID,used with all socket operations to uniquely identi...</div><div class="ttdef"><b>Definition</b> m2m_socket_host_if.h:195</div></div>
<div class="ttc" id="astructsockaddr__in_html"><div class="ttname"><a href="structsockaddr__in.html">sockaddr_in</a></div><div class="ttdoc">Socket address structure for IPV4 addresses. Used to specify socket address information to connect to...</div><div class="ttdef"><b>Definition</b> socket.h:453</div></div>
<div class="ttc" id="astructsockaddr_html"><div class="ttname"><a href="structsockaddr.html">sockaddr</a></div><div class="ttdoc">Generic socket address structure.</div><div class="ttdef"><b>Definition</b> socket.h:434</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga0bd24b8455319e7c40b61a0835b25bb1" name="ga0bd24b8455319e7c40b61a0835b25bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0bd24b8455319e7c40b61a0835b25bb1">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronous close function, releases all the socket assigned resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sock</td><td>Socket ID, must hold a non negative value. A negative value will return a socket error <a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>. Indicating that an invalid argument is passed in.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Sockets must be initialized through the call of the socketInit function. <a class="el" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a> is called only for valid socket identifiers created through the <a class="el" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a> function.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If <a class="el" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a> is called while there are still pending messages (sent or received ) they will be discarded.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga5878b0f388e1d04b6f986f61a607ae4a">socketInit</a> <a class="el" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
 The function returned <a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> for successful operation and a negative value (indicating the error) otherwise. </dd></dl>

</div>
</div>
<a id="ga0c6fead3153f45eb4c862590d2a64122" name="ga0c6fead3153f45eb4c862590d2a64122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c6fead3153f45eb4c862590d2a64122">&#9670;&#160;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsockaddr.html">sockaddr</a> *</td>          <td class="paramname"><span class="paramname"><em>pstrAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8AddrLen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga9a396dd2a0d39e8421a5271ee1ea263e" name="ga9a396dd2a0d39e8421a5271ee1ea263e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a396dd2a0d39e8421a5271ee1ea263e">&#9670;&#160;</a></span>gethostbyname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> gethostbyname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> *</td>          <td class="paramname"><span class="paramname"><em>pcHostName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronous DNS resolving function. This function uses DNS to resolve a domain name to the corresponding IP address. A call to this function will cause a DNS request to be sent and the response will be delivered to the DNS callback function registered using <a class="el" href="#gaeb6be6be9f2cbaf61d3b27c8300b3677">registerSocketCallback()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcHostName</td><td>NULL terminated string containing the domain name for the remote host. Its size must not exceed <a class="el" href="group___s_o_c_k_e_t_d_e_f.html#ga0fa167ceba6d3196afb108eaf035ec16">HOSTNAME_MAX_SIZE</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gaeb6be6be9f2cbaf61d3b27c8300b3677">registerSocketCallback</a></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Successful completion of a call to <a class="el" href="#ga9a396dd2a0d39e8421a5271ee1ea263e">gethostbyname()</a> does not guarantee success of the DNS request, a negative return value indicates only locally-detected errors</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
<ul>
<li><a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a></li>
<li><a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga96fb86e2f672c9cdcafb3585186fe549" name="ga96fb86e2f672c9cdcafb3585186fe549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96fb86e2f672c9cdcafb3585186fe549">&#9670;&#160;</a></span>getsockopt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> getsockopt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8Level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8OptName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>pvOptValue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> *</td>          <td class="paramname"><span class="paramname"><em>pu8OptLen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get socket options retrieves This Function isn't implemented yet but this is the form that will be released later. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sock</td><td>Socket Identifie. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Level</td><td>The protocol level of the option. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8OptName</td><td>The u8OptName argument specifies a single option to get. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pvOptValue</td><td>The pvOptValue argument contains pointer to a buffer containing the option value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pu8OptLen</td><td>Option value buffer length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function shall return ZERO for successful operation and a negative value otherwise. </dd></dl>

</div>
</div>
<a id="ga64a01a865709a621b249aaac455f9e8b" name="ga64a01a865709a621b249aaac455f9e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga64a01a865709a621b249aaac455f9e8b">&#9670;&#160;</a></span>listen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> listen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>backlog</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>After successfully binding a socket to an IP address and port on the system, start listening passively for incoming connections. The socket must be bound on a local port or the listen operation fails. Upon the call to the asynchronous listen function, response is received through the event <a class="el" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a4dc7e6fa342140185ecbc4272c5af72e">SOCKET_MSG_LISTEN</a> in the socket callback.</p>
<p>A successful listen means the TCP server operation is active. If a connection is accepted, then the application socket callback function is notified with the new connected socket through the event <a class="el" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682">SOCKET_MSG_ACCEPT</a>. Hence there is no need to call the <a class="el" href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a> function after calling <a class="el" href="#ga64a01a865709a621b249aaac455f9e8b">listen</a>.</p>
<p>After a connection is accepted, the user is then required to call <a class="el" href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a> to receive any packets transmitted by the remote host or to recieve notification of socket connection termination. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sock</td><td>Socket ID, must hold a non negative value. A negative value will return a socket error <a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>. Indicating that an invalid argument is passed in.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">backlog</td><td>Not used by the current implementation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The bind function must be called to assign the port number and IP address to the socket before the listen operation.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gaa63dbc9b10866f101ae33ea3469645fd">bind</a> </dd>
<dd>
<a class="el" href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a> </dd>
<dd>
<a class="el" href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a> </dd>
<dd>
<a class="el" href="#ga1f9ae5629c787b74f46c43805987d1a1">recvfrom</a> </dd>
<dd>
<a class="el" href="#ga926ec962609b596d9951199f52d02391">send</a> </dd>
<dd>
<a class="el" href="#ga6a47ee942f7f547ec7f7cb921910444a">sendto</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
 The function returns ZERO for successful operations and a negative value otherwise. The possible error values are:<ul>
<li><a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> <br  />
 Indicating that the operation was successful.</li>
<li><a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a> Indicating invalid arguments were passed, such as negative socket ID.</li>
<li><a class="el" href="group___socket_error_code.html#gaadbd3cd57b4ff7c25b6a9abc75cb37be">SOCK_ERR_INVALID</a> Indicate socket listen failure. </li>
</ul>
</dd></dl>
<h1><a class="anchor" id="SocketExample5"></a>
Example</h1>
<p>This example demonstrates the call of the listen socket operation after a successful socket operation. </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> TCP_Socketcallback(<a class="code hl_typedef" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> sock, <a class="code hl_typedef" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> u8Msg, <span class="keywordtype">void</span> * pvMsg)</div>
<div class="line">{   </div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a> =-1;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">switch</span>(u8Msg)</div>
<div class="line">    {   </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6af08409fad783f5a4cae734f2bff519c0">SOCKET_MSG_BIND</a>:</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_struct" href="structtstr_socket_bind_msg.html">tstrSocketBindMsg</a>   *pstrBind = (<a class="code hl_struct" href="structtstr_socket_bind_msg.html">tstrSocketBindMsg</a>*)pvMsg;</div>
<div class="line">            <span class="keywordflow">if</span>(pstrBind != <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span>(pstrBind-&gt;<a class="code hl_variable" href="group___socket_enums.html#ga6b422068702209e429594b6a3d9af1a4">status</a> == 0)</div>
<div class="line">                {</div>
<div class="line">                    <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a> = <a class="code hl_function" href="#ga64a01a865709a621b249aaac455f9e8b">listen</a>(sock, 0);</div>
<div class="line">                    </div>
<div class="line">                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a> &lt;0)</div>
<div class="line">                        printf(<span class="stringliteral">&quot;Listen failure! Error = %d\n&quot;</span>,<a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a>);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    <a class="code hl_define" href="nm__debug_8h.html#a34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;bind Failure!\n&quot;</span>);</div>
<div class="line">                    <a class="code hl_function" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a>(sock);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a4dc7e6fa342140185ecbc4272c5af72e">SOCKET_MSG_LISTEN</a>:</div>
<div class="line">        {</div>
<div class="line"> </div>
<div class="line">            <a class="code hl_struct" href="structtstr_socket_listen_msg.html">tstrSocketListenMsg</a> *pstrListen = (<a class="code hl_struct" href="structtstr_socket_listen_msg.html">tstrSocketListenMsg</a>*)pvMsg;</div>
<div class="line">            <span class="keywordflow">if</span>(pstrListen != <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span>(pstrListen-&gt;<a class="code hl_variable" href="group___socket_enums.html#ga6b422068702209e429594b6a3d9af1a4">status</a> == 0)</div>
<div class="line">                {</div>
<div class="line">                    <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a> = <a class="code hl_function" href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a>(sock,<a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,0);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    <a class="code hl_define" href="nm__debug_8h.html#a34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;listen Failure!\n&quot;</span>);</div>
<div class="line">                    <a class="code hl_function" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a>(sock);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682">SOCKET_MSG_ACCEPT</a>:</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_struct" href="structtstr_socket_accept_msg.html">tstrSocketAcceptMsg</a> *pstrAccept = (<a class="code hl_struct" href="structtstr_socket_accept_msg.html">tstrSocketAcceptMsg</a>*)pvMsg;</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span>(pstrAccept-&gt;<a class="code hl_variable" href="group___socket_enums.html#ga6e91849780a994f2adde299b33642829">sock</a> &gt;= 0)</div>
<div class="line">            {</div>
<div class="line">                TcpNotificationSocket = pstrAccept-&gt;<a class="code hl_variable" href="group___socket_enums.html#ga6e91849780a994f2adde299b33642829">sock</a>;</div>
<div class="line">                <a class="code hl_function" href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a>(pstrAccept-&gt;<a class="code hl_variable" href="group___socket_enums.html#ga6e91849780a994f2adde299b33642829">sock</a>,gau8RxBuffer,<span class="keyword">sizeof</span>(gau8RxBuffer),TEST_RECV_TIMEOUT);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <a class="code hl_define" href="nm__debug_8h.html#a34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;accept failure\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup___b_s_p_define_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> nm_bsp.h:60</div></div>
<div class="ttc" id="agroup___data_t_html_gadde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdoc">Range of values between 0 to 255.</div><div class="ttdef"><b>Definition</b> nm_bsp.h:97</div></div>
<div class="ttc" id="agroup___socket_a_p_i_html_ga64a01a865709a621b249aaac455f9e8b"><div class="ttname"><a href="#ga64a01a865709a621b249aaac455f9e8b">listen</a></div><div class="ttdeci">sint8 listen(SOCKET sock, uint8 backlog)</div><div class="ttdef"><b>Definition</b> socket.c:610</div></div>
<div class="ttc" id="agroup___socket_a_p_i_html_gac7c2f9f381cea0d52578825d7e563e8d"><div class="ttname"><a href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a></div><div class="ttdeci">sint8 accept(SOCKET sock, struct sockaddr *addr, uint8 *addrlen)</div><div class="ttdef"><b>Definition</b> socket.c:648</div></div>
<div class="ttc" id="agroup___socket_a_p_i_html_gafb96ba8adac96c7f6cc0d6c257418e17"><div class="ttname"><a href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a></div><div class="ttdeci">sint16 recv(SOCKET sock, void *pvRecvBuf, uint16 u16BufLen, uint32 u32Timeoutmsec)</div><div class="ttdef"><b>Definition</b> socket.c:831</div></div>
<div class="ttc" id="agroup___socket_enums_html_ga6b422068702209e429594b6a3d9af1a4"><div class="ttname"><a href="group___socket_enums.html#ga6b422068702209e429594b6a3d9af1a4">tstrSocketBindMsg::status</a></div><div class="ttdeci">sint8 status</div><div class="ttdef"><b>Definition</b> socket.h:557</div></div>
<div class="ttc" id="agroup___socket_enums_html_ga6e91849780a994f2adde299b33642829"><div class="ttname"><a href="group___socket_enums.html#ga6e91849780a994f2adde299b33642829">tstrSocketAcceptMsg::sock</a></div><div class="ttdeci">SOCKET sock</div><div class="ttdef"><b>Definition</b> socket.h:597</div></div>
<div class="ttc" id="agroup___socket_enums_html_gga7d04327752aa83113ca666bfb390e5c6a4dc7e6fa342140185ecbc4272c5af72e"><div class="ttname"><a href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a4dc7e6fa342140185ecbc4272c5af72e">SOCKET_MSG_LISTEN</a></div><div class="ttdeci">@ SOCKET_MSG_LISTEN</div><div class="ttdef"><b>Definition</b> socket.h:508</div></div>
<div class="ttc" id="agroup___socket_enums_html_gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682"><div class="ttname"><a href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682">SOCKET_MSG_ACCEPT</a></div><div class="ttdeci">@ SOCKET_MSG_ACCEPT</div><div class="ttdef"><b>Definition</b> socket.h:516</div></div>
<div class="ttc" id="agroup___socket_enums_html_gga7d04327752aa83113ca666bfb390e5c6af08409fad783f5a4cae734f2bff519c0"><div class="ttname"><a href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6af08409fad783f5a4cae734f2bff519c0">SOCKET_MSG_BIND</a></div><div class="ttdeci">@ SOCKET_MSG_BIND</div><div class="ttdef"><b>Definition</b> socket.h:504</div></div>
<div class="ttc" id="anm__debug_8h_html_a34d005df494e50b05cd38b80f318d7ac"><div class="ttname"><a href="nm__debug_8h.html#a34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a></div><div class="ttdeci">#define M2M_ERR(...)</div><div class="ttdef"><b>Definition</b> nm_debug.h:56</div></div>
<div class="ttc" id="astructtstr_socket_accept_msg_html"><div class="ttname"><a href="structtstr_socket_accept_msg.html">tstrSocketAcceptMsg</a></div><div class="ttdoc">Socket accept status.</div><div class="ttdef"><b>Definition</b> socket.h:596</div></div>
<div class="ttc" id="astructtstr_socket_bind_msg_html"><div class="ttname"><a href="structtstr_socket_bind_msg.html">tstrSocketBindMsg</a></div><div class="ttdoc">Socket bind status.</div><div class="ttdef"><b>Definition</b> socket.h:556</div></div>
<div class="ttc" id="astructtstr_socket_listen_msg_html"><div class="ttname"><a href="structtstr_socket_listen_msg.html">tstrSocketListenMsg</a></div><div class="ttdoc">Socket listen status.</div><div class="ttdef"><b>Definition</b> socket.h:577</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga7bd5251887bd43fc7cf8c4dc7edf32af" name="ga7bd5251887bd43fc7cf8c4dc7edf32af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bd5251887bd43fc7cf8c4dc7edf32af">&#9670;&#160;</a></span>m2m_ping_req()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> m2m_ping_req </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4b435a49c74bb91f284f075e63416cb6">uint32</a></td>          <td class="paramname"><span class="paramname"><em>u32DstIP</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8TTL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga33afa715496c47c2f7ffe69bb5596183">tpfPingCb</a></td>          <td class="paramname"><span class="paramname"><em>fpPingCb</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function request to send ping request to the given IP Address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u32DstIP</td><td>Target Destination IP Address for the ping request. It must be represented in Network byte order. The function nmi_inet_addr could be used to translate the dotted decimal notation IP to its Network bytes order integer represntative.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8TTL</td><td>IP TTL value for the ping request. If set to ZERO, the default value SHALL be used.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fpPingCb</td><td>Callback will be called to deliver the ping statistics.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gafd9d1f56a7e508773730524f337bc8b8">nmi_inet_addr</a> <br  />
 </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise. </dd></dl>

</div>
</div>
<a id="gafd9d1f56a7e508773730524f337bc8b8" name="gafd9d1f56a7e508773730524f337bc8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd9d1f56a7e508773730524f337bc8b8">&#9670;&#160;</a></span>nmi_inet_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga4b435a49c74bb91f284f075e63416cb6">uint32</a> nmi_inet_addr </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>pcIpAddr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronous function which returns a BSD socket compliant Internet Protocol (IPv4) socket address. This IPv4 address in the input string parameter could either be specified as a hostname, or as a numeric string representation like n.n.n.n known as the IPv4 dotted-decimal format (i.e. "192.168.10.1"). This function is used whenever an ip address needs to be set in the proper format (i.e. for the <a class="el" href="structtstr_m2_m_i_p_config.html">tstrM2MIPConfig</a> structure).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcIpAddr</td><td>A null terminated string containing the IP address in IPv4 dotted-decimal address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Unsigned 32-bit integer representing the IP address in Network byte order (eg. "192.168.10.1" will be expressed as 0x010AA8C0). </dd></dl>

</div>
</div>
<a id="gafb96ba8adac96c7f6cc0d6c257418e17" name="gafb96ba8adac96c7f6cc0d6c257418e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb96ba8adac96c7f6cc0d6c257418e17">&#9670;&#160;</a></span>recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga74df79fde3c518e55b29ce6360a9c76e">sint16</a> recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvRecvBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></td>          <td class="paramname"><span class="paramname"><em>u16BufLen</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4b435a49c74bb91f284f075e63416cb6">uint32</a></td>          <td class="paramname"><span class="paramname"><em>u32Timeoutmsec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An asynchrnonous receive function, used to retrieve data from a TCP stream. Before calling the recv function, a successful socket connection status must have been received through any of the two socket events [SOCKET_MSG_CONNECT] or [SOCKET_MSG_ACCEPT], from the socket callback. Hence, indicating that the socket is already connected to a remote host. The application receives the required data in response to this asynchronous call through the reception of the event <a class="el" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133">SOCKET_MSG_RECV</a> in the socket callback.</p>
<p>Receiving the SOCKET_MSG_RECV message in the callback with zero or negative buffer length indicates the following:</p><ul>
<li><a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> : Socket connection closed. The application should now call <a class="el" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close()</a>.</li>
<li><a class="el" href="group___socket_error_code.html#ga01823c4a616a2473abb8f3f8417c1df8">SOCK_ERR_CONN_ABORTED</a> : Socket connection aborted. The application should now call <a class="el" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close()</a>.</li>
<li><a class="el" href="group___socket_error_code.html#ga718ed6a0a949466e5dc13431e0a2f9a4">SOCK_ERR_TIMEOUT</a> : Socket receive timed out. The socket connection remains open.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sock</td><td>Socket ID, must hold a non negative value. A negative value will return a socket error <a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>. Indicating that an invalid argument is passed in.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pvRecvBuf</td><td>Pointer to a buffer that will hold the received data. The buffer is used in the recv callback to deliver the received data to the caller. The buffer must be resident in memory (heap or global buffer).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u16BufLen</td><td>The buffer size in bytes.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u32Timeoutmsec</td><td>Timeout for the recv function in milli-seconds. If the value is set to ZERO, the timeout will be set to infinite (the recv function waits forever). If the timeout period is elapsed with no data received, the socket will get a timeout error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>The socket function must be called to allocate a TCP socket before passing the socket ID to the recv function.</li>
<li>The socket in a connected state is expected to receive data through the socket interface.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a> </dd>
<dd>
<a class="el" href="#ga0c6fead3153f45eb4c862590d2a64122">connect</a> </dd>
<dd>
<a class="el" href="#gaa63dbc9b10866f101ae33ea3469645fd">bind</a> </dd>
<dd>
<a class="el" href="#ga64a01a865709a621b249aaac455f9e8b">listen</a> </dd>
<dd>
<a class="el" href="#ga1f9ae5629c787b74f46c43805987d1a1">recvfrom</a> </dd>
<dd>
<a class="el" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
 The function returns ZERO for successful operations and a negative value otherwise. The possible error values are:<ul>
<li><a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> <br  />
 Indicating that the operation was successful.</li>
<li><a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a> Indicating passing invalid arguments such as negative socket ID or NULL Recieve buffer.</li>
<li><a class="el" href="group___socket_error_code.html#ga327a62f01f2b0d7b732bea32612acc42">SOCK_ERR_BUFFER_FULL</a> Indicate socket recieve failure. </li>
</ul>
</dd></dl>
<h1><a class="anchor" id="SocketExample7"></a>
Example</h1>
<p>The example demonstrates a code snippet for the calling of the recv function in the socket callback upon notification of the accept or connect events, and the parsing of the received data when the SOCKET_MSG_RECV event is received. </p><div class="fragment"><div class="line"><span class="keywordflow">switch</span>(u8Msg)</div>
<div class="line">{   </div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a946070427c7852024b5fde29a591a682">SOCKET_MSG_ACCEPT</a>:</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_struct" href="structtstr_socket_accept_msg.html">tstrSocketAcceptMsg</a> *pstrAccept = (<a class="code hl_struct" href="structtstr_socket_accept_msg.html">tstrSocketAcceptMsg</a>*)pvMsg;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(pstrAccept-&gt;<a class="code hl_variable" href="group___socket_enums.html#ga6e91849780a994f2adde299b33642829">sock</a> &gt;= 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a>(pstrAccept-&gt;<a class="code hl_variable" href="group___socket_enums.html#ga6e91849780a994f2adde299b33642829">sock</a>,gau8RxBuffer,<span class="keyword">sizeof</span>(gau8RxBuffer),TEST_RECV_TIMEOUT);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_define" href="nm__debug_8h.html#a34d005df494e50b05cd38b80f318d7ac">M2M_ERR</a>(<span class="stringliteral">&quot;accept\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133">SOCKET_MSG_RECV</a>:</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_struct" href="structtstr_socket_recv_msg.html">tstrSocketRecvMsg</a>   *pstrRx = (<a class="code hl_struct" href="structtstr_socket_recv_msg.html">tstrSocketRecvMsg</a>*)pvMsg;</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span>(pstrRx-&gt;<a class="code hl_variable" href="group___socket_enums.html#gab055728a5dc1032596977a50b735fb7e">s16BufferSize</a> &gt; 0)</div>
<div class="line">        {</div>
<div class="line">            </div>
<div class="line">            <a class="code hl_function" href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a>(sock,gau8RxBuffer,<span class="keyword">sizeof</span>(gau8RxBuffer),TEST_RECV_TIMEOUT);         </div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Socet recv Error: %d\n&quot;</span>,pstrRx-&gt;<a class="code hl_variable" href="group___socket_enums.html#gab055728a5dc1032596977a50b735fb7e">s16BufferSize</a>);</div>
<div class="line">            <a class="code hl_function" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a>(sock);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">default</span>:</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup___socket_enums_html_gab055728a5dc1032596977a50b735fb7e"><div class="ttname"><a href="group___socket_enums.html#gab055728a5dc1032596977a50b735fb7e">tstrSocketRecvMsg::s16BufferSize</a></div><div class="ttdeci">sint16 s16BufferSize</div><div class="ttdef"><b>Definition</b> socket.h:654</div></div>
<div class="ttc" id="agroup___socket_enums_html_gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133"><div class="ttname"><a href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a3dd1782ab9b12ffa5ebabb1054140133">SOCKET_MSG_RECV</a></div><div class="ttdeci">@ SOCKET_MSG_RECV</div><div class="ttdef"><b>Definition</b> socket.h:524</div></div>
<div class="ttc" id="astructtstr_socket_recv_msg_html"><div class="ttname"><a href="structtstr_socket_recv_msg.html">tstrSocketRecvMsg</a></div><div class="ttdoc">Socket recv status.</div><div class="ttdef"><b>Definition</b> socket.h:649</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga1f9ae5629c787b74f46c43805987d1a1" name="ga1f9ae5629c787b74f46c43805987d1a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f9ae5629c787b74f46c43805987d1a1">&#9670;&#160;</a></span>recvfrom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga74df79fde3c518e55b29ce6360a9c76e">sint16</a> recvfrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvRecvBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></td>          <td class="paramname"><span class="paramname"><em>u16BufLen</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga4b435a49c74bb91f284f075e63416cb6">uint32</a></td>          <td class="paramname"><span class="paramname"><em>u32Timeoutmsec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaeb6be6be9f2cbaf61d3b27c8300b3677" name="gaeb6be6be9f2cbaf61d3b27c8300b3677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb6be6be9f2cbaf61d3b27c8300b3677">&#9670;&#160;</a></span>registerSocketCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> void registerSocketCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga497a9e3655ab84f135f6debaac686942">tpfAppSocketCb</a></td>          <td class="paramname"><span class="paramname"><em>pfAppSocketCb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga1f0570c302c1dff2b559b1177f7aec2a">tpfAppResolveCb</a></td>          <td class="paramname"><span class="paramname"><em>pfAppResolveCb</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register two callback functions one for asynchronous socket events and the other one for DNS callback registering function. The registered callback functions are used to retrieve information in response to the asynchronous socket functions called. <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket_cb</td><td>Assignment of callback function to the global callback <a class="el" href="group___socket_enums.html#ga497a9e3655ab84f135f6debaac686942">tpfAppSocketCb</a> gpfAppSocketCb. Delivers socket messages to the host application. In response to the asynchronous function calls, such as <a class="el" href="#gaa63dbc9b10866f101ae33ea3469645fd">bind</a> <a class="el" href="#ga64a01a865709a621b249aaac455f9e8b">listen</a> <a class="el" href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a> <a class="el" href="#ga0c6fead3153f45eb4c862590d2a64122">connect</a></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resolve_cb</td><td>Assignment of callback function to the global callback <a class="el" href="group___socket_enums.html#ga1f0570c302c1dff2b559b1177f7aec2a">tpfAppResolveCb</a> gpfAppResolveCb. Used for DNS resolving functionality. The DNS resolving technique is determined by the application registering the callback. NULL is assigned when DNS resolution is not required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>If any of the socket functionality is not to be used, NULL is passed in as a parameter. It must be invoked after <a class="el" href="#ga5878b0f388e1d04b6f986f61a607ae4a">socketInit</a> and before other socket layer operations.</dd></dl>
<h1><a class="anchor" id="SocketExample2"></a>
Example</h1>
<p>This example demonstrates the use of the registerSocketCallback to register a socket callback function with DNS resolution CB set to null for a simple UDP server example. </p><div class="fragment"><div class="line">    <a class="code hl_struct" href="structtstr_wifi_init_param.html">tstrWifiInitParam</a> param;</div>
<div class="line">int8_t <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a>;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structsockaddr__in.html">sockaddr_in</a> addr;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the board</span></div>
<div class="line">system_init();</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Initialize the UART console. </span></div>
<div class="line">configure_console();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the BSP.</span></div>
<div class="line"><a class="code hl_function" href="group___b_s_p_a_p_i.html#ga91533a50cf3da832110a746b4a57789e">nm_bsp_init</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize socket address structure.</span></div>
<div class="line">addr.sin_family = <a class="code hl_define" href="group___s_o_c_k_e_t_d_e_f.html#ga9930604d0e32588eae76f43ca38e7826">AF_INET</a>;</div>
<div class="line">addr.sin_port = <a class="code hl_define" href="group___s_o_c_k_e_t_b_y_t_e_o_r_d_e_r.html#ga9778d254871cabab2da84409f88aa1f4">_htons</a>(MAIN_WIFI_M2M_SERVER_PORT);</div>
<div class="line">addr.sin_addr.s_addr = <a class="code hl_define" href="group___s_o_c_k_e_t_b_y_t_e_o_r_d_e_r.html#gad689dd88d15e087980c0b1ed71c29a42">_htonl</a>(MAIN_WIFI_M2M_SERVER_IP);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize Wi-Fi parameters structure. </span></div>
<div class="line">memset((uint8_t *)&amp;param, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtstr_wifi_init_param.html">tstrWifiInitParam</a>));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize Wi-Fi driver with data and status callbacks.</span></div>
<div class="line">param.pfAppWifiCb = wifi_cb;</div>
<div class="line"><a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a> = <a class="code hl_function" href="group___w_l_a_n_a_p_i.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a>(&amp;param);</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_define" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> != <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;main: m2m_wifi_init call error!(%d)\r\n&quot;</span>, <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a>);</div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize socket module</span></div>
<div class="line"><a class="code hl_function" href="#ga5878b0f388e1d04b6f986f61a607ae4a">socketInit</a>();</div>
<div class="line"><a class="code hl_function" href="#gaeb6be6be9f2cbaf61d3b27c8300b3677">registerSocketCallback</a>(socket_cb, <a class="code hl_define" href="group___b_s_p_define.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Connect to router.</span></div>
<div class="line"><a class="code hl_function" href="group___w_l_a_n_a_p_i.html#gac7873639780b6a098a5476d133e68130">m2m_wifi_connect</a>((<span class="keywordtype">char</span> *)DEFAULT_SSID, <span class="keyword">sizeof</span>(DEFAULT_SSID), DEFAULT_AUTH, (<span class="keywordtype">char</span> *)DEFAULT_KEY, <a class="code hl_enumvalue" href="group___wlan_enums.html#gga2a91dd671e2672dba1a7ed45230f3a99a9ab262cc4f83b59a0710ffb80134c637">M2M_WIFI_CH_ALL</a>);</div>
<div class="ttc" id="agroup___b_s_p_a_p_i_html_ga91533a50cf3da832110a746b4a57789e"><div class="ttname"><a href="group___b_s_p_a_p_i.html#ga91533a50cf3da832110a746b4a57789e">nm_bsp_init</a></div><div class="ttdeci">sint8 nm_bsp_init(void)</div><div class="ttdef"><b>Definition</b> nm_bsp.c:79</div></div>
<div class="ttc" id="agroup___c_o_m_m_o_n_d_e_f_html_ga9ef27ba27aafdd1aa3a79d3ba2c36b8f"><div class="ttname"><a href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a></div><div class="ttdeci">#define M2M_SUCCESS</div><div class="ttdef"><b>Definition</b> nm_common.h:51</div></div>
<div class="ttc" id="agroup___s_o_c_k_e_t_b_y_t_e_o_r_d_e_r_html_gad689dd88d15e087980c0b1ed71c29a42"><div class="ttname"><a href="group___s_o_c_k_e_t_b_y_t_e_o_r_d_e_r.html#gad689dd88d15e087980c0b1ed71c29a42">_htonl</a></div><div class="ttdeci">#define _htonl(m)</div><div class="ttdef"><b>Definition</b> socket.h:268</div></div>
<div class="ttc" id="agroup___socket_a_p_i_html_ga5878b0f388e1d04b6f986f61a607ae4a"><div class="ttname"><a href="#ga5878b0f388e1d04b6f986f61a607ae4a">socketInit</a></div><div class="ttdeci">void socketInit(void)</div><div class="ttdef"><b>Definition</b> socket.c:397</div></div>
<div class="ttc" id="agroup___socket_a_p_i_html_gaeb6be6be9f2cbaf61d3b27c8300b3677"><div class="ttname"><a href="#gaeb6be6be9f2cbaf61d3b27c8300b3677">registerSocketCallback</a></div><div class="ttdeci">void registerSocketCallback(tpfAppSocketCb pfAppSocketCb, tpfAppResolveCb pfAppResolveCb)</div><div class="ttdef"><b>Definition</b> socket.c:454</div></div>
<div class="ttc" id="agroup___w_l_a_n_a_p_i_html_ga73c734812e844d96d860c4e93e9daf35"><div class="ttname"><a href="group___w_l_a_n_a_p_i.html#ga73c734812e844d96d860c4e93e9daf35">m2m_wifi_init</a></div><div class="ttdeci">sint8 m2m_wifi_init(tstrWifiInitParam *param)</div><div class="ttdoc">Synchronous API that initialises the WINC driver.</div><div class="ttdef"><b>Definition</b> m2m_wifi.c:527</div></div>
<div class="ttc" id="agroup___w_l_a_n_a_p_i_html_gac7873639780b6a098a5476d133e68130"><div class="ttname"><a href="group___w_l_a_n_a_p_i.html#gac7873639780b6a098a5476d133e68130">m2m_wifi_connect</a></div><div class="ttdeci">sint8 m2m_wifi_connect(char *pcSsid, uint8 u8SsidLen, uint8 u8SecType, void *pvAuthInfo, uint16 u16Ch)</div><div class="ttdoc">Asynchronous API to request connection to a specified access point.</div><div class="ttdef"><b>Definition</b> m2m_wifi.c:589</div></div>
<div class="ttc" id="agroup___wlan_enums_html_gga2a91dd671e2672dba1a7ed45230f3a99a9ab262cc4f83b59a0710ffb80134c637"><div class="ttname"><a href="group___wlan_enums.html#gga2a91dd671e2672dba1a7ed45230f3a99a9ab262cc4f83b59a0710ffb80134c637">M2M_WIFI_CH_ALL</a></div><div class="ttdeci">@ M2M_WIFI_CH_ALL</div><div class="ttdef"><b>Definition</b> m2m_types.h:885</div></div>
<div class="ttc" id="astructtstr_wifi_init_param_html"><div class="ttname"><a href="structtstr_wifi_init_param.html">tstrWifiInitParam</a></div><div class="ttdoc">Structure, holding the Wi-fi configuration attributes such as the wi-fi callback ,...</div><div class="ttdef"><b>Definition</b> m2m_wifi.h:398</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga926ec962609b596d9951199f52d02391" name="ga926ec962609b596d9951199f52d02391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga926ec962609b596d9951199f52d02391">&#9670;&#160;</a></span>send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga74df79fde3c518e55b29ce6360a9c76e">sint16</a> send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvSendBuffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></td>          <td class="paramname"><span class="paramname"><em>u16SendLength</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></td>          <td class="paramname"><span class="paramname"><em>u16Flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga6a47ee942f7f547ec7f7cb921910444a" name="ga6a47ee942f7f547ec7f7cb921910444a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a47ee942f7f547ec7f7cb921910444a">&#9670;&#160;</a></span>sendto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga74df79fde3c518e55b29ce6360a9c76e">sint16</a> sendto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvSendBuffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></td>          <td class="paramname"><span class="paramname"><em>u16SendLength</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsockaddr.html">sockaddr</a> *</td>          <td class="paramname"><span class="paramname"><em>pstrDestAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8AddrLen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronous sending function, used to send data on a UDP socket. Called by the application code when there is data required to be sent on a UDP socket. The application code is expected to receive data from a successfully bound socket node. The only difference between this function and the similar <a class="el" href="#ga926ec962609b596d9951199f52d02391">send</a> function, is the type of socket the data is received on. This function works only with UDP sockets. After the data is sent, the socket callback function registered using <a class="el" href="#gaeb6be6be9f2cbaf61d3b27c8300b3677">registerSocketCallback()</a>, is expected to receive an event of type <a class="el" href="group___socket_enums.html#gga7d04327752aa83113ca666bfb390e5c6a107aabae201d6ba97df1b80fad3d1619">SOCKET_MSG_SENDTO</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sock</td><td>Socket ID, must hold a non negative value. A negative value will return a socket error <a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>. Indicating that an invalid argument is passed in.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pvSendBuffer</td><td>Pointer to a buffer holding data to be transmitted. A NULL value will return a socket error <a class="el" href="group___socket_error_code.html#ga4889a7ecf9dcfb3208d6f7c59b691d9d">SOCK_ERR_INVALID_ARG</a>. Indicating that an invalid argument is passed in.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u16SendLength</td><td>The buffer size in bytes. It must not exceed <a class="el" href="group___s_o_c_k_e_t_d_e_f.html#ga347f2f3a1c6eb8a6ca8cd929e4704769">SOCKET_BUFFER_MAX_LENGTH</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Not used in the current implementation</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pstrDestAddr</td><td>The destination address.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8AddrLen</td><td>Destination address length in bytes. Not used in the current implementation, only included for BSD compatibility. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Sockets must be initialized using socketInit.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga5878b0f388e1d04b6f986f61a607ae4a">socketInit</a> <a class="el" href="#ga1f9ae5629c787b74f46c43805987d1a1">recvfrom</a> <a class="el" href="#ga6a47ee942f7f547ec7f7cb921910444a">sendto</a> <a class="el" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a> <a class="el" href="#ga0c6fead3153f45eb4c862590d2a64122">connect</a> <a class="el" href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a> <a class="el" href="#ga926ec962609b596d9951199f52d02391">send</a> <br  />
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>u16SendLength must not exceed <a class="el" href="group___s_o_c_k_e_t_d_e_f.html#ga347f2f3a1c6eb8a6ca8cd929e4704769">SOCKET_BUFFER_MAX_LENGTH</a>. <br  />
 Use a valid socket (returned from socket ). A valid buffer pointer must be used (not NULL). <br  />
 Successful completion of a call to <a class="el" href="#ga6a47ee942f7f547ec7f7cb921910444a">sendto()</a> does not guarantee delivery of the message, A negative return value indicates only locally-detected errors</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___socket_error_code.html#ga3d22d700a5ecefd5027c0f3c923ee095">SOCK_ERR_NO_ERROR</a> for successful operation and a negative value (indicating the error) otherwise. </dd></dl>

</div>
</div>
<a id="ga3843a64f3a423fb78e2fbc7ab5242c1c" name="ga3843a64f3a423fb78e2fbc7ab5242c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3843a64f3a423fb78e2fbc7ab5242c1c">&#9670;&#160;</a></span>setsockopt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___data_t.html#ga1a6408291ee3cfd0760a61ac64084154">sint8</a> setsockopt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a></td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8Level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></td>          <td class="paramname"><span class="paramname"><em>u16OptionLen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0686a847ab8065512bb230fc8845c2f1" name="ga0686a847ab8065512bb230fc8845c2f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0686a847ab8065512bb230fc8845c2f1">&#9670;&#160;</a></span>socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> <a class="el" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> socket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___data_t.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></td>          <td class="paramname"><span class="paramname"><em>u16Domain</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8Type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_t.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a></td>          <td class="paramname"><span class="paramname"><em>u8Flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronous socket allocation function based on the specified socket type. Created sockets are non-blocking and their possible types are either TCP or a UDP sockets. The maximum allowed number of TCP sockets is <a class="el" href="group___s_o_c_k_e_t_d_e_f.html#gab6c65ea312c8108924ada44302aa465f">TCP_SOCK_MAX</a> sockets while the maximum number of UDP sockets that can be created simultaneously is <a class="el" href="group___s_o_c_k_e_t_d_e_f.html#gabbb22c156432dd303fe28b658ab8338d">UDP_SOCK_MAX</a> sockets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u16Domain</td><td>Socket family. The only allowed value is AF_INET (IPv4.0) for TCP/UDP sockets.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Type</td><td>Socket type. Allowed values are:<ul>
<li><a class="el" href="group___s_o_c_k_e_t_d_e_f.html#ga249394484f9410a2e3f8eba24657feb9">SOCK_STREAM</a></li>
<li><a class="el" href="group___s_o_c_k_e_t_d_e_f.html#ga4db8b9a846c67404db0b6f014f9a9fdf">SOCK_DGRAM</a></li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Flags</td><td>Used to specify the socket creation flags. It shall be set to zero for normal TCP/UDP sockets, or <a class="el" href="group___s_o_c_k_e_t_d_e_f.html#gabba7069e08c6d3aa2f9029461d13498c">SOCKET_FLAGS_SSL</a> if the socket is used for SSL session. The use of the flag <a class="el" href="group___s_o_c_k_e_t_d_e_f.html#gabba7069e08c6d3aa2f9029461d13498c">SOCKET_FLAGS_SSL</a> has no meaning in case of UDP sockets.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The <a class="el" href="#ga5878b0f388e1d04b6f986f61a607ae4a">socketInit</a> function must be called once at the beginning of the application to initialize the socket handler. before any call to the socket function can be made.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga0c6fead3153f45eb4c862590d2a64122">connect</a> <a class="el" href="#gaa63dbc9b10866f101ae33ea3469645fd">bind</a> <a class="el" href="#ga64a01a865709a621b249aaac455f9e8b">listen</a> <a class="el" href="#gac7c2f9f381cea0d52578825d7e563e8d">accept</a> <a class="el" href="#gafb96ba8adac96c7f6cc0d6c257418e17">recv</a> <a class="el" href="#ga1f9ae5629c787b74f46c43805987d1a1">recvfrom</a> <a class="el" href="#ga926ec962609b596d9951199f52d02391">send</a> <a class="el" href="#ga6a47ee942f7f547ec7f7cb921910444a">sendto</a> <a class="el" href="#ga0bd24b8455319e7c40b61a0835b25bb1">close</a> <a class="el" href="#ga3843a64f3a423fb78e2fbc7ab5242c1c">setsockopt</a> <a class="el" href="#ga96fb86e2f672c9cdcafb3585186fe549">getsockopt</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>On successful socket creation, a non-blocking socket type is created and a socket ID is returned In case of failure the function returns a negative value, identifying one of the socket error codes defined. For example: <a class="el" href="group___socket_error_code.html#gaadbd3cd57b4ff7c25b6a9abc75cb37be">SOCK_ERR_INVALID</a> for invalid argument or <a class="el" href="group___socket_error_code.html#ga02b3df7adc7c06dd2fd82c14b4825a83">SOCK_ERR_MAX_TCP_SOCK</a> if the number of TCP allocated sockets exceeds the number of available sockets.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The socket function must be called before any other related socket functions "e.g. send, recv, close ..etc" </dd></dl>
<h1><a class="anchor" id="SocketExample3"></a>
Example</h1>
<p>This example demonstrates the use of the socket function to allocate the socket, returning the socket handler to be used for other socket operations. Socket creation is dependent on the socket type. </p>
<h2><a class="anchor" id="sub1"></a>
UDP example</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> UdpServerSocket = -1;</div>
<div class="line"> </div>
<div class="line">UdpServerSocket = <a class="code hl_function" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a>(<a class="code hl_define" href="group___s_o_c_k_e_t_d_e_f.html#ga9930604d0e32588eae76f43ca38e7826">AF_INET</a>, <a class="code hl_define" href="group___s_o_c_k_e_t_d_e_f.html#ga4db8b9a846c67404db0b6f014f9a9fdf">SOCK_DGRAM</a>, 0);</div>
</div><!-- fragment --> <h2><a class="anchor" id="sub2"></a>
TCP example</h2>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group___socket_enums.html#ga829296c80a8223a79269442d5b8abd72">SOCKET</a> tcp_client_socket = -1;</div>
<div class="line"> </div>
<div class="line">tcp_client_socket = <a class="code hl_function" href="#ga0686a847ab8065512bb230fc8845c2f1">socket</a>(<a class="code hl_define" href="group___s_o_c_k_e_t_d_e_f.html#ga9930604d0e32588eae76f43ca38e7826">AF_INET</a>, <a class="code hl_define" href="group___s_o_c_k_e_t_d_e_f.html#ga249394484f9410a2e3f8eba24657feb9">SOCK_STREAM</a>, 0));</div>
<div class="ttc" id="agroup___s_o_c_k_e_t_d_e_f_html_ga249394484f9410a2e3f8eba24657feb9"><div class="ttname"><a href="group___s_o_c_k_e_t_d_e_f.html#ga249394484f9410a2e3f8eba24657feb9">SOCK_STREAM</a></div><div class="ttdeci">#define SOCK_STREAM</div><div class="ttdef"><b>Definition</b> socket.h:79</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga601505c91c3f21a9c0b4a51988357b4f" name="ga601505c91c3f21a9c0b4a51988357b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga601505c91c3f21a9c0b4a51988357b4f">&#9670;&#160;</a></span>socketDeinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> void socketDeinit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5878b0f388e1d04b6f986f61a607ae4a" name="ga5878b0f388e1d04b6f986f61a607ae4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5878b0f388e1d04b6f986f61a607ae4a">&#9670;&#160;</a></span>socketInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_s_p_define.html#gaecc0323d771e41ef81a76b5f12783e22">NMI_API</a> void socketInit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function performs the necessary initialization for the socket library through the following steps:</p><ul>
<li>A check made by the global variable gbSocketInit, ensuring that initialization for sockets is performed only once, in-order to prevent reseting the socket instances already created in the global socket array (gastrSockets).</li>
<li>Zero initializations to the global socket array (gastrSockets), which holds the list of TCP sockets.</li>
<li>Registers the socket (Host Interface)hif callback function through the call to the hif_register_cb function. This facilitates handling all of the socket related functions received through interrupts from the firmware. <br  />
</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This initialization function must be invoked before any socket operation is performed. No error codes from this initialization function since the socket array is statically allocated based on the maximum number of sockets <a class="el" href="group___s_o_c_k_e_t_d_e_f.html#gac0ab6f439d003d912087974e24160b68">MAX_SOCKET</a> which is tuned to the systems capability. </dd></dl>
<h1><a class="anchor" id="SocketExample1"></a>
Example</h1>
<p>This example demonstrates the use of the socketInit for socket initialization for an mqtt chat application. </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structtstr_wifi_init_param.html">tstrWifiInitParam</a> param;</div>
<div class="line">int8_t <a class="code hl_variable" href="_wi___fi___initialization_8h.html#ab49e77787f732bd834480d867179a73f">ret</a>;</div>
<div class="line"><span class="keywordtype">char</span> topic[strlen(MAIN_CHAT_TOPIC) + MAIN_CHAT_USER_NAME_SIZE + 1];</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Initialize the board.</span></div>
<div class="line">system_init();</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Initialize the UART console. </span></div>
<div class="line">configure_console();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the BSP.</span></div>
<div class="line"><a class="code hl_function" href="group___b_s_p_a_p_i.html#ga91533a50cf3da832110a746b4a57789e">nm_bsp_init</a>();</div>
<div class="line"> </div>
<div class="line"> ----------</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize socket interface.</span></div>
<div class="line"><a class="code hl_function" href="#ga5878b0f388e1d04b6f986f61a607ae4a">socketInit</a>();</div>
<div class="line"><a class="code hl_function" href="#gaeb6be6be9f2cbaf61d3b27c8300b3677">registerSocketCallback</a>(socket_event_handler, socket_resolve_handler);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Connect to router. </span></div>
<div class="line"><a class="code hl_function" href="group___w_l_a_n_a_p_i.html#gac7873639780b6a098a5476d133e68130">m2m_wifi_connect</a>((<span class="keywordtype">char</span> *)DEFAULT_SSID, <span class="keyword">sizeof</span>(DEFAULT_SSID),</div>
<div class="line">        DEFAULT_AUTH, (<span class="keywordtype">char</span> *)DEFAULT_KEY, <a class="code hl_enumvalue" href="group___wlan_enums.html#gga2a91dd671e2672dba1a7ed45230f3a99a9ab262cc4f83b59a0710ffb80134c637">M2M_WIFI_CH_ALL</a>);</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
